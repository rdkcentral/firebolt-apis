{
	"openrpc": "1.2.4",
	"info": {
		"title": "Discovery",
		"version": "0.0.0",
		"description": "Your App likely wants to integrate with the Platform's discovery capabilities. For example to add a \"Watch Next\" tile that links to your app from the platform's home screen.\n\nGetting access to this information requires to connect to lower level APIs made available by the platform. Since implementations differ between operators and platforms, the Firebolt SDK offers a Discovery module, that exposes a generic, agnostic interface to the developer.\n\nUnder the hood, an underlaying transport layer will then take care of calling the right APIs for the actual platform implementation that your App is running on.\n\nThe Discovery plugin is used to _send_ information to the Platform.\n\n### Localization\nApps should provide all user-facing strings in the device's language, as specified by the Firebolt `Localization.language` property.\n\nApps should provide prices in the same currency presented in the app. If multiple currencies are supported in the app, the app should provide prices in the user's current default currency."
	},
	"methods": [
		{
			"name": "navigateTo",
			"tags": [
				{
					"name": "notifier",
					"x-event": "Discovery.onNavigateTo"
				},
				{
					"name": "capabilities",
					"x-uses": [
						"xrn:firebolt:capability:discovery:navigate-to"
					]
				}
			],
			"summary": "listen to `navigateTo` events",
			"params": [
				{
					"name": "value",
					"summary": "An object describing where in the app the user intends to navigate to",
					"schema": {
						"$ref": "https://meta.comcast.com/firebolt/intents#/definitions/NavigationIntent"
					}
				}
			],
			"examples": [
				{
					"name": "Listening for `navigateTo` events",
					"params": [
						{
							"name": "event",
							"value": {
								"action": "search",
								"data": {
									"query": "a cool show"
								},
								"context": {
									"campaign": "unknown",
									"source": "voice"
								}
							}
						}
					]
				}
			]
		}
	],
	"components": {
		"schemas": {
			"DiscoveryPolicy": {
				"title": "DiscoveryPolicy",
				"type": "object",
				"required": [
					"enableRecommendations",
					"shareWatchHistory",
					"rememberWatchedPrograms"
				],
				"properties": {
					"enableRecommendations": {
						"type": "boolean",
						"description": "Whether or not to the user has enabled history-based recommendations"
					},
					"shareWatchHistory": {
						"type": "boolean",
						"description": "Whether or not the user has enabled app watch history data to be shared with the platform"
					},
					"rememberWatchedPrograms": {
						"type": "boolean",
						"description": "Whether or not the user has enabled watch history"
					}
				}
			},
			"FederatedRequest": {
				"title": "FederatedRequest",
				"type": "object",
				"properties": {
					"correlationId": {
						"type": "string"
					}
				},
				"required": [
					"correlationId"
				],
				"propertyNames": {
					"enum": [
						"correlationId",
						"parameters"
					]
				},
				"examples": [
					{
						"correlationId": "xyz"
					}
				]
			},
			"FederatedResponse": {
				"title": "FederatedResponse",
				"type": "object",
				"properties": {
					"correlationId": {
						"type": "string"
					}
				},
				"required": [
					"correlationId",
					"result"
				],
				"propertyNames": {
					"enum": [
						"correlationId",
						"result"
					]
				},
				"examples": [
					{
						"correlationId": "xyz"
					}
				]
			},
			"EntityInfoFederatedRequest": {
				"title": "EntityInfoFederatedRequest",
				"allOf": [
					{
						"$ref": "#/components/schemas/FederatedRequest"
					},
					{
						"type": "object",
						"properties": {
							"parameters": {
								"$ref": "#/components/schemas/EntityInfoParameters"
							}
						},
						"required": [
							"correlationId",
							"parameters"
						]
					}
				],
				"examples": [
					{
						"correlationId": "xyz",
						"parameters": {
							"entityId": "345"
						}
					}
				]
			},
			"EntityInfoParameters": {
				"title": "EntityInfoParameters",
				"type": "object",
				"properties": {
					"entityId": {
						"type": "string"
					},
					"assetId": {
						"type": "string"
					}
				},
				"required": [
					"entityId"
				],
				"additionalProperties": false,
				"examples": [
					{
						"entityId": "345"
					}
				]
			},
			"EntityInfoFederatedResponse": {
				"title": "EntityInfoFederatedResponse",
				"allOf": [
					{
						"$ref": "#/components/schemas/FederatedResponse"
					},
					{
						"type": "object",
						"properties": {
							"result": {
								"$ref": "#/components/schemas/EntityInfoResult"
							}
						}
					}
				]
			},
			"EntityInfoResult": {
				"title": "EntityInfoResult",
				"description": "The result for an `entityInfo()` push or pull.",
				"type": "object",
				"properties": {
					"expires": {
						"type": "string",
						"format": "date-time"
					},
					"entity": {
						"$ref": "https://meta.comcast.com/firebolt/entertainment#/definitions/EntityInfo"
					},
					"related": {
						"type": "array",
						"items": {
							"$ref": "https://meta.comcast.com/firebolt/entertainment#/definitions/EntityInfo"
						}
					}
				},
				"required": [
					"expires",
					"entity"
				],
				"additionalProperties": false
			},
			"PurchasedContentFederatedRequest": {
				"title": "PurchasedContentFederatedRequest",
				"allOf": [
					{
						"$ref": "#/components/schemas/FederatedRequest"
					},
					{
						"type": "object",
						"properties": {
							"parameters": {
								"$ref": "#/components/schemas/PurchasedContentParameters"
							}
						},
						"required": [
							"correlationId",
							"parameters"
						]
					}
				],
				"examples": [
					{
						"correlationId": "xyz",
						"parameters": {
							"limit": 100
						}
					}
				]
			},
			"PurchasedContentParameters": {
				"title": "PurchasedContentParameters",
				"type": "object",
				"properties": {
					"limit": {
						"type": "integer",
						"minimum": -1
					},
					"offeringType": {
						"$ref": "https://meta.comcast.com/firebolt/entertainment#/definitions/OfferingType"
					},
					"programType": {
						"$ref": "https://meta.comcast.com/firebolt/entertainment#/definitions/ProgramType"
					}
				},
				"required": [
					"limit"
				],
				"additionalProperties": false,
				"examples": [
					{
						"limit": 100
					}
				]
			},
			"PurchasedContentFederatedResponse": {
				"title": "PurchasedContentFederatedResponse",
				"allOf": [
					{
						"$ref": "#/components/schemas/FederatedResponse"
					},
					{
						"type": "object",
						"properties": {
							"result": {
								"$ref": "#/components/schemas/PurchasedContentResult"
							}
						}
					}
				]
			},
			"PurchasedContentResult": {
				"title": "PurchasedContentResult",
				"type": "object",
				"properties": {
					"expires": {
						"type": "string",
						"format": "date-time"
					},
					"totalCount": {
						"type": "integer",
						"minimum": 0
					},
					"entries": {
						"type": "array",
						"items": {
							"$ref": "https://meta.comcast.com/firebolt/entertainment#/definitions/EntityInfo"
						}
					}
				},
				"required": [
					"expires",
					"totalCount",
					"entries"
				],
				"additionalProperties": false
			},
			"Availability": {
				"title": "Availability",
				"type": "object",
				"properties": {
					"type": {
						"type": "string",
						"enum": [
							"channel-lineup",
							"program-lineup"
						]
					},
					"id": {
						"type": "string"
					},
					"catalogId": {
						"type": "string"
					},
					"startTime": {
						"type": "string",
						"format": "date-time"
					},
					"endTime": {
						"type": "string",
						"format": "date-time"
					}
				},
				"required": [
					"type",
					"id"
				]
			},
			"ContentAccessIdentifiers": {
				"title": "ContentAccessIdentifiers",
				"type": "object",
				"properties": {
					"availabilities": {
						"type": "array",
						"items": {
							"$ref": "#/components/schemas/Availability"
						},
						"description": "A list of identifiers that represent what content is discoverable for the subscriber. Excluding availabilities will cause no change to the availabilities that are stored for this subscriber. Providing an empty array will clear the subscriber's availabilities"
					},
					"entitlements": {
						"type": "array",
						"items": {
							"$ref": "https://meta.comcast.com/firebolt/entertainment#/definitions/Entitlement"
						},
						"description": "A list of identifiers that represent what content is consumable for the subscriber. Excluding entitlements will cause no change to the entitlements that are stored for this subscriber. Providing an empty array will clear the subscriber's entitlements"
					}
				},
				"required": []
			},
			"TuneChannels": {
				"title": "TuneChannels",
				"description": "An enumeration of xrn values for the TuneIntent that have special meaning.",
				"type": "string",
				"enum": [
					"xrn:firebolt:channel:any"
				]
			},
			"UserInterestProviderParameters": {
				"title": "UserInterestProviderParameters",
				"type": "object",
				"required": [
					"type",
					"reason"
				],
				"properties": {
					"type": {
						"$ref": "https://meta.comcast.com/firebolt/discovery#/definitions/InterestType"
					},
					"reason": {
						"$ref": "https://meta.comcast.com/firebolt/discovery#/definitions/InterestReason"
					}
				}
			}
		}
	}
}

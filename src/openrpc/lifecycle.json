{
    "openrpc": "1.2.4",
    "info": {
      "title": "Lifecycle",
      "description": "Methods and events for responding to lifecycle changes in your app",
      "version": "0.0.0"
    },
    "methods": [
      {
        "name": "ready",
        "tags": [
          {
            "name": "calls-metrics"
          },
          {
            "name": "capabilities",
            "x-uses": [
              "xrn:firebolt:capability:lifecycle:ready"
            ]
          },
          {
            "name": "exclude-from-sdk"
          }
        ],
        "summary": "Notify the platform that the app is ready",
        "params": [],
        "result": {
          "name": "result",
          "schema": {
            "const": null
          }
        },
        "examples": [
          {
            "name": "Let the platform know that your app is ready",
            "params": [],
            "result": {
              "name": "Default Result",
              "value": null
            }
          }
        ]
      },
      {
        "name": "close",
        "tags": [
          {
            "name": "capabilities",
            "x-uses": [
              "xrn:firebolt:capability:lifecycle:state"
            ]
          }
        ],
        "summary": "Request that the platform move your app out of focus",
        "params": [
          {
            "name": "reason",
            "summary": "The reason the app is requesting to be closed",
            "required": true,
            "schema": {
						"$ref": "https://meta.rdkcentral.com/firebolt/schemas/lifecycle#/definitions/CloseReason"
            }
          }
        ],
        "result": {
          "name": "success",
          "schema": {
            "const": null
          }
        },
        "examples": [
          {
            "name": "Close the app when the user presses back on the app home screen",
            "params": [
              {
                "name": "reason",
                "value": "remoteButton"
              }
            ],
            "result": {
              "name": "Default Result",
              "value": null
            }
          },
          {
            "name": "Close the app when the user selects an exit menu item",
            "params": [
              {
                "name": "reason",
                "value": "userExit"
              }
            ],
            "result": {
              "name": "Default Result",
              "value": null
            }
          }
        ]
      },
      {
        "name": "onStart",
        "tags": [
          {
            "name": "event"
          },
          {
            "name": "capabilities",
            "x-uses": [
              "xrn:firebolt:capability:lifecycle:state"
            ]
          }
        ],
        "summary": "Listen to the start event",
        "params": [],
        "result": {
          "name": "value",
          "schema": {
            "$ref": "#/components/schemas/LifecycleEvent"
          }
        },
        "examples": [
          {
            "name": "Default Example",
            "params": [],
            "result": {
              "name": "Default Result",
              "value": {
                "state": "paused",
                "previous": "initializing"
              }
            }
          }
        ]
      },
      {
        "name": "onStartSuspended",
        "tags": [
          {
            "name": "event"
          },
          {
            "name": "capabilities",
            "x-uses": [
              "xrn:firebolt:capability:lifecycle:state"
            ]
          }
        ],
        "summary": "Listen to the suspended start event",
        "params": [],
        "result": {
          "name": "value",
          "schema": {
            "$ref": "#/components/schemas/LifecycleEvent"
          }
        },
        "examples": [
          {
            "name": "Default Example",
            "params": [],
            "result": {
              "name": "Default Result",
              "value": {
                "state": "suspended",
                "previous": "initializing"
              }
            }
          }
        ]
      },
      {
        "name": "onPause",
        "tags": [
          {
            "name": "event"
          },
          {
            "name": "capabilities",
            "x-uses": [
              "xrn:firebolt:capability:lifecycle:state"
            ]
          }
        ],
        "summary": "Listen to the pause event",
        "params": [],
        "result": {
          "name": "value",
          "schema": {
            "$ref": "#/components/schemas/LifecycleEvent"
          }
        },
        "examples": [
          {
            "name": "Default Example",
            "params": [],
            "result": {
              "name": "Default Result",
              "value": {
                "state": "paused",
                "previous": "active"
              }
            }
          }
        ]
      },
      {
        "name": "onActivate",
        "tags": [
          {
            "name": "event"
          },
          {
            "name": "capabilities",
            "x-uses": [
              "xrn:firebolt:capability:lifecycle:state"
            ]
          }
        ],
        "summary": "Listen to the activate event",
        "params": [],
        "result": {
          "name": "value",
          "schema": {
            "$ref": "#/components/schemas/LifecycleEvent"
          }
        },
        "examples": [
          {
            "name": "Default Example",
            "params": [],
            "result": {
              "name": "Default Result",
              "value": {
                "state": "active",
                "previous": "paused"
              }
            }
          },
          {
            "name": "Move to foreground via remote branded buton",
            "params": [],
            "result": {
              "name": "value",
              "value": {
                "state": "foreground",
                "previous": "inactive",
                "source": "remote"
              }
            }
          }
        ]
      },
      {
        "name": "onBackground",
        "tags": [
          {
            "name": "event"
          },
          {
            "name": "capabilities",
            "x-uses": [
              "xrn:firebolt:capability:lifecycle:state"
            ]
          }
        ],
        "summary": "Listen to the background event",
        "params": [],
        "result": {
          "name": "value",
          "schema": {
            "$ref": "#/components/schemas/LifecycleEvent"
          }
        },
        "examples": [
          {
            "name": "Default Example",
            "params": [],
            "result": {
              "name": "Default Result",
              "value": {
                "state": "background",
                "previous": "foreground"
              }
            }
          }
        ]
      },
      {
        "name": "onSuspend",
        "tags": [
          {
            "name": "event"
          },
          {
            "name": "capabilities",
            "x-uses": [
              "xrn:firebolt:capability:lifecycle:state"
            ]
          }
        ],
        "summary": "Listen to the suspended event",
        "params": [],
        "result": {
          "name": "value",
          "schema": {
            "$ref": "#/components/schemas/LifecycleEvent"
          }
        },
        "examples": [
          {
            "name": "Default Example",
            "params": [],
            "result": {
              "name": "Default Result",
              "value": {
                "state": "suspended",
                "previous": "paused"
              }
            }
          }
        ]
      },
      {
        "name": "onResume",
        "tags": [
          {
            "name": "event"
          },
          {
            "name": "capabilities",
            "x-uses": [
              "xrn:firebolt:capability:lifecycle:state"
            ]
          }
        ],
        "summary": "Listen to the suspended event",
        "params": [],
        "result": {
          "name": "value",
          "schema": {
            "$ref": "#/components/schemas/LifecycleEvent"
          }
        },
        "examples": [
          {
            "name": "Default Example",
            "params": [],
            "result": {
              "name": "Default Result",
              "value": {
                "state": "paused",
                "previous": "suspended"
              }
            }
          }
        ]
      },
      {
        "name": "onHibernate",
        "tags": [
          {
            "name": "event"
          },
          {
            "name": "capabilities",
            "x-uses": [
              "xrn:firebolt:capability:lifecycle:state"
            ]
          }
        ],
        "summary": "Listen to the hibernating event",
        "params": [],
        "result": {
          "name": "value",
          "schema": {
            "$ref": "#/components/schemas/LifecycleEvent"
          }
        },
        "examples": [
          {
            "name": "Default Example",
            "params": [],
            "result": {
              "name": "Default Result",
              "value": {
                "state": "hibernated",
                "previous": "suspended"
              }
            }
          }
        ]
      },
      {
        "name": "onRestore",
        "tags": [
          {
            "name": "event"
          },
          {
            "name": "capabilities",
            "x-uses": [
              "xrn:firebolt:capability:lifecycle:state"
            ]
          }
        ],
        "summary": "Listen to the restoration event",
        "params": [],
        "result": {
          "name": "value",
          "schema": {
            "$ref": "#/components/schemas/LifecycleEvent"
          }
        },
        "examples": [
          {
            "name": "Default Example",
            "params": [],
            "result": {
              "name": "Default Result",
              "value": {
                "state": "suspended",
                "previous": "hibernated"
              }
            }
          }
        ]
      },
      {
        "name": "onDestroy",
        "tags": [
          {
            "name": "event"
          },
          {
            "name": "capabilities",
            "x-uses": [
              "xrn:firebolt:capability:lifecycle:state"
            ]
          }
        ],
        "summary": "Listen to the destroy event",
        "params": [],
        "result": {
          "name": "value",
          "schema": {
            "$ref": "#/components/schemas/LifecycleEvent"
          }
        },
        "examples": [
          {
            "name": "Default Example",
            "params": [],
            "result": {
              "name": "Default Result",
              "value": {
                "state": "destroy",
                "previous": "paused"
              }
            }
          }
        ]
      }
    ],
    "components": {
      "schemas": {
        "LifecycleEvent": {
          "title": "LifecycleEvent",
          "description": "A an object describing the previous and current states",
          "type": "object",
          "required": [
            "state",
            "previous"
          ],
          "properties": {
            "state": {
              "$ref": "https://meta.comcast.com/firebolt/lifecycle#/definitions/LifecycleState",
              "description": "The current lifcycle state"
            },
            "previous": {
              "$ref": "https://meta.comcast.com/firebolt/lifecycle#/definitions/LifecycleState",
              "description": "The previous lifcycle state"
            },
            "source": {
              "type": "string",
              "enum": [
                "voice",
                "remote"
              ],
              "description": "The source of the lifecycle change."
            }
          }
        }
      }
    }
  }